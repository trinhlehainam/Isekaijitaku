{
  // JSON Schema for Renovate
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  // Use local renovate-config as a base
  // Format: local>account/repo
  // https://docs.renovatebot.com/config-presets/#self-hosted-git
  extends: ["local>renovate_account/renovate-config"],
  // Enable dependency dashboard for visibility
  dependencyDashboard: true,
  // Only enable specific managers
  enabledManagers: [
    "github-actions",
    "dockerfile",
    "docker-compose",
  ],
  // Enable automatic merging of PRs that pass tests
  automerge: true,
  // Skip tests for certain updates
  ignoreTests: true,
  // Docker-related manager configurations
  "docker-compose": {
    enabled: true,
    fileMatch: [
      "samples/Docker/docker-compose.ya?ml$",
    ],
  },
  
  dockerfile: {
    enabled: true,
    fileMatch: [
      "samples/Docker/Dockerfile",
    ],
  },
  
  // Package-specific rules
  packageRules: [
    // Docker image rules
    {
      description: "Pin exact versions for database images",
      matchDatasources: ["docker"],
      matchPackageNames: ["postgres"],
      pinDigests: true,
    },
    {
      description: "Group Docker base image updates",
      matchDatasources: ["docker"],
      matchPackageNames: ["node", "nginx", "alpine"],
      groupName: "Docker base images",
      groupSlug: "docker-base",
    },
    {
      description: "use fix scope for renovate updates",
      matchPackageNames: ["renovatebot/renovate"],
      semanticCommitType: "fix",
    },
    {
      description: "Automerge renovate updates",
      matchPackageNames: ["renovatebot/renovate"],
      matchUpdateTypes: ["minor", "patch", "digest"],
      automerge: true,
    },
  ],
}