{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "semanticCommits": "enabled",
  "automergeStrategy": "auto",
  "platformAutomerge": false,
  "packageRules": [
    {
      "description": "Block upgrade of upload-artifact to v4+ (not supported in Forgejo/GHES)",
      "matchPackageNames": ["actions/upload-artifact"],
      "allowedVersions": "<4.0.0"
    },
    {
      "description": "Block upgrade of download-artifact to v4+ (not supported in Forgejo/GHES)",
      "matchPackageNames": ["actions/download-artifact"],
      "allowedVersions": "<4.0.0"
    },
    {
      "description": "Alternative: Use Forgejo-specific actions if preferred",
      "matchPackageNames": ["actions/upload-artifact"],
      "enabled": false,
      "replacementName": "forgejo/upload-artifact",
      "replacementVersion": "v4"
    },
    {
      "description": "Alternative: Use Forgejo-specific actions if preferred",
      "matchPackageNames": ["actions/download-artifact"],
      "enabled": false,
      "replacementName": "forgejo/download-artifact",
      "replacementVersion": "v4"
    }
  ]
}